let lerp=(e,t,r)=>(1-r)*e+r*t,getCursorPos=e=>({x:e.clientX,y:e.clientY}),cursor={x:0,y:0};window.addEventListener("mousemove",e=>cursor=getCursorPos(e));class Cursor{DOM={elements:null};cursorElements=[];constructor(e,t="a"){this.DOM.elements=e,[...this.DOM.elements].forEach(e=>this.cursorElements.push(new CursorElement(e))),[...document.querySelectorAll(t)].forEach(e=>{e.addEventListener("mouseenter",()=>this.enter()),e.addEventListener("mouseleave",()=>this.leave())})}enter(){for(var e of this.cursorElements)e.enter()}leave(){for(var e of this.cursorElements)e.leave()}}class CursorElement{DOM={el:null,inner:null,feTurbulence:null};radiusOnEnter=50;opacityOnEnter=1;radius;renderedStyles={tx:{previous:0,current:0,amt:.15},ty:{previous:0,current:0,amt:.15},radius:{previous:20,current:20,amt:.15},opacity:{previous:1,current:1,amt:.15}};bounds;filterId="#cursor-filter";primitiveValues={turbulence:0};constructor(e){for(var t in this.DOM.el=e,this.DOM.inner=this.DOM.el.querySelector(".cursor__inner"),this.DOM.feTurbulence=document.querySelector(this.filterId+" > feTurbulence"),this.createFilterTimeline(),this.DOM.el.style.opacity=0,this.bounds=this.DOM.el.getBoundingClientRect(),this.radiusOnEnter=this.DOM.el.dataset.radiusEnter||this.radiusOnEnter,this.opacityOnEnter=this.DOM.el.dataset.opacityEnter||this.opacityOnEnter,this.renderedStyles)this.renderedStyles[t].amt=this.DOM.el.dataset.amt||this.renderedStyles[t].amt;this.radius=this.DOM.inner.getAttribute("r"),this.renderedStyles.radius.previous=this.renderedStyles.radius.current=this.radius;let r=()=>{this.renderedStyles.tx.previous=this.renderedStyles.tx.current=cursor.x-this.bounds.width/2,this.renderedStyles.ty.previous=this.renderedStyles.ty.previous=cursor.y-this.bounds.height/2,this.DOM.el.style.opacity=1,requestAnimationFrame(()=>this.render()),window.removeEventListener("mousemove",r)};window.addEventListener("mousemove",r)}enter(){this.renderedStyles.radius.current=this.radiusOnEnter,this.renderedStyles.opacity.current=this.opacityOnEnter,this.filterTimeline.restart()}leave(){this.renderedStyles.radius.current=this.radius,this.renderedStyles.opacity.current=1,this.filterTimeline.progress(1).kill()}createFilterTimeline(){this.filterTimeline=gsap.timeline({paused:!0,onStart:()=>{this.DOM.inner.style.filter="url("+this.filterId},onUpdate:()=>{this.DOM.feTurbulence.setAttribute("baseFrequency",this.primitiveValues.turbulence)},onComplete:()=>{this.DOM.inner.style.filter="none"}}).to(this.primitiveValues,{duration:1,ease:"expo",startAt:{turbulence:.35},turbulence:0})}render(){for(var e in this.renderedStyles.tx.current=cursor.x-this.bounds.width/2,this.renderedStyles.ty.current=cursor.y-this.bounds.height/2,this.renderedStyles)this.renderedStyles[e].previous=lerp(this.renderedStyles[e].previous,this.renderedStyles[e].current,this.renderedStyles[e].amt);this.DOM.el.style.transform=`translateX(${this.renderedStyles.tx.previous}px) translateY(${this.renderedStyles.ty.previous}px)`,this.DOM.inner.setAttribute("r",this.renderedStyles.radius.previous),this.DOM.el.style.opacity=this.renderedStyles.opacity.previous,requestAnimationFrame(()=>this.render())}}let customCursor=new Cursor(document.querySelectorAll(".cursor"));